<?xml version="1.0" encoding="UTF-8" ?>
<Module>
  <ModulePrefs title="Outreach">
    <Require feature="rpc"/>
    <Require feature="views"/>
  </ModulePrefs>
  <Content type="html">
    <![CDATA[
      <html>
      	<head>
      		<link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
      	</head>
      	<body>
          <div class="row" ng-controller="MainCtrl">
          <div class="col-md-8">
          <table class="table">
          <thead>
          <tr>
          <th>Player</th>
          <th>Name</th>
          <th>Initiative</th>
          <th>Parry</th>
          <th>Dodge</th>
          <th>Toughness</th>
          <th>Fortitude</th>
          <th>Will</th>
          </tr>
          </thead>
          <tbody>
          <tr ng-repeat="character in characters">
            <td ng-cloak>{{character.player}}</td>
            <td ng-cloak>{{character.name}}</td>
            <td ng-cloak>{{character.abilities.agility}}</td></tr>
            <td ng-cloak>{{character.defenses.parry}}</td></tr>
            <td ng-cloak>{{character.defenses.dodge}}</td></tr>
          </tbody>
          </table>
          </div>
          <div class="col-md-4"></div>
          </div>
      		<script src="//plus.google.com/hangouts/_/api/v1/hangout.js"></script>
      		<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
      		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.4/angular.min.js"></script>
      		<script src="//cdn.firebase.com/v0/firebase.js"></script>
          <script src="//cdn.firebase.com/libs/angularfire/0.3.0/angularfire.min.js"></script>
      		<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>
          <script>
            var app = angular.module('OutreachApp',['firebase']);
            
            app.controller('MainCtrl', function($scope, angularFire) {
              var ref = new Firebase("https://outreach.firebaseio.com/");
              $scope.characters = [];
              angularFire(ref,$scope,'characters');
              
            });
          </script>
          <script>
              gapi.hangout.onApiReady.add(function(eventObj){
              if (eventObj.isApiReady) {
                angular.bootstrap(document, ['OutreachApp']);
                }
              });
          </script>
      	</body>
      </html>
    ]]>
  </Content>
</Module>
